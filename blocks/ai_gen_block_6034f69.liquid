{% doc %}
  @prompt
    give  nav bar  while i hove ron the navitem it show its subcategroies 
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-navbar-{{ ai_gen_id }} {
    background-color: {{ block.settings.background_color }};
    padding: {{ block.settings.padding_vertical }}px {{ block.settings.padding_horizontal }}px;
    position: relative;
    z-index: 100;
  }

  .ai-navbar-container-{{ ai_gen_id }} {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 40px;
  }

  .ai-navbar-logo-{{ ai_gen_id }} {
    font-size: {{ block.settings.logo_size }}px;
    font-weight: 700;
    color: {{ block.settings.text_color }};
    text-decoration: none;
    white-space: nowrap;
  }

  .ai-navbar-menu-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: {{ block.settings.menu_spacing }}px;
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .ai-navbar-item-{{ ai_gen_id }} {
    position: relative;
  }

  .ai-navbar-link-{{ ai_gen_id }} {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 12px 16px;
    color: {{ block.settings.text_color }};
    text-decoration: none;
    font-size: {{ block.settings.link_size }}px;
    font-weight: 500;
    transition: color 0.3s ease;
    cursor: pointer;
  }

  .ai-navbar-link-{{ ai_gen_id }}:hover {
    color: {{ block.settings.hover_color }};
  }

  .ai-navbar-arrow-{{ ai_gen_id }} {
    width: 12px;
    height: 12px;
    transition: transform 0.3s ease;
  }

  .ai-navbar-item-{{ ai_gen_id }}:hover .ai-navbar-arrow-{{ ai_gen_id }} {
    transform: rotate(180deg);
  }

  .ai-navbar-dropdown-{{ ai_gen_id }} {
    position: absolute;
    top: 100%;
    left: 0;
    background-color: {{ block.settings.dropdown_background }};
    min-width: 220px;
    border-radius: {{ block.settings.dropdown_radius }}px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s ease;
    padding: 8px 0;
    z-index: 1000;
  }

  .ai-navbar-item-{{ ai_gen_id }}:hover .ai-navbar-dropdown-{{ ai_gen_id }} {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  .ai-navbar-dropdown-link-{{ ai_gen_id }} {
    display: block;
    padding: 12px 20px;
    color: {{ block.settings.dropdown_text_color }};
    text-decoration: none;
    font-size: {{ block.settings.dropdown_link_size }}px;
    transition: background-color 0.2s ease;
  }

  .ai-navbar-dropdown-link-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.dropdown_hover_background }};
    color: {{ block.settings.dropdown_hover_text }};
  }

  @media screen and (max-width: 768px) {
    .ai-navbar-menu-{{ ai_gen_id }} {
      display: none;
    }

    .ai-navbar-logo-{{ ai_gen_id }} {
      font-size: {{ block.settings.logo_size | times: 0.8 }}px;
    }
  }
{% endstyle %}

<nav class="ai-navbar-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-navbar-container-{{ ai_gen_id }}">
    {% if block.settings.logo_text != blank %}
      <a href="/" class="ai-navbar-logo-{{ ai_gen_id }}">
        {{ block.settings.logo_text }}
      </a>
    {% endif %}

    <ul class="ai-navbar-menu-{{ ai_gen_id }}">
      {% for i in (1..5) %}
        {% liquid
          assign item_enabled_key = 'item_' | append: i | append: '_enabled'
          assign item_text_key = 'item_' | append: i | append: '_text'
          assign item_link_key = 'item_' | append: i | append: '_link'
          assign has_dropdown_key = 'item_' | append: i | append: '_has_dropdown'

          assign item_enabled = block.settings[item_enabled_key]
          assign item_text = block.settings[item_text_key]
          assign item_link = block.settings[item_link_key]
          assign has_dropdown = block.settings[has_dropdown_key]
        %}

        {% if item_enabled and item_text != blank %}
          <li class="ai-navbar-item-{{ ai_gen_id }}">
            {% if has_dropdown %}
              <span class="ai-navbar-link-{{ ai_gen_id }}">
                {{ item_text }}
                <svg class="ai-navbar-arrow-{{ ai_gen_id }}" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="6 9 12 15 18 9"></polyline>
                </svg>
              </span>

              <div class="ai-navbar-dropdown-{{ ai_gen_id }}">
                {% for j in (1..5) %}
                  {% liquid
                    assign sub_text_key = 'item_' | append: i | append: '_sub_' | append: j | append: '_text'
                    assign sub_link_key = 'item_' | append: i | append: '_sub_' | append: j | append: '_link'

                    assign sub_text = block.settings[sub_text_key]
                    assign sub_link = block.settings[sub_link_key]
                  %}

                  {% if sub_text != blank %}
                    <a href="{{ sub_link }}" class="ai-navbar-dropdown-link-{{ ai_gen_id }}">
                      {{ sub_text }}
                    </a>
                  {% endif %}
                {% endfor %}
              </div>
            {% else %}
              <a href="{{ item_link }}" class="ai-navbar-link-{{ ai_gen_id }}">
                {{ item_text }}
              </a>
            {% endif %}
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  </div>
</nav>

{% schema %}
{
  "name": "Navigation bar",
  "settings": [
    {
      "type": "header",
      "content": "Logo"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo text",
      "default": "Store"
    },
    {
      "type": "range",
      "id": "logo_size",
      "min": 16,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Logo size",
      "default": 24
    },
    {
      "type": "header",
      "content": "Style"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "hover_color",
      "label": "Hover text",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "padding_vertical",
      "min": 10,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Vertical padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_horizontal",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Horizontal padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "link_size",
      "min": 12,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Link size",
      "default": 16
    },
    {
      "type": "range",
      "id": "menu_spacing",
      "min": 10,
      "max": 50,
      "step": 5,
      "unit": "px",
      "label": "Menu spacing",
      "default": 20
    },
    {
      "type": "header",
      "content": "Dropdown"
    },
    {
      "type": "color",
      "id": "dropdown_background",
      "label": "Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "dropdown_text_color",
      "label": "Text",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "dropdown_hover_background",
      "label": "Hover background",
      "default": "#f5f5f5"
    },
    {
      "type": "color",
      "id": "dropdown_hover_text",
      "label": "Hover text",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "dropdown_radius",
      "min": 0,
      "max": 20,
      "step": 2,
      "unit": "px",
      "label": "Border radius",
      "default": 8
    },
    {
      "type": "range",
      "id": "dropdown_link_size",
      "min": 12,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Link size",
      "default": 14
    },
    {
      "type": "header",
      "content": "Menu item 1"
    },
    {
      "type": "checkbox",
      "id": "item_1_enabled",
      "label": "Enable",
      "default": true
    },
    {
      "type": "text",
      "id": "item_1_text",
      "label": "Text",
      "default": "Shop"
    },
    {
      "type": "url",
      "id": "item_1_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "item_1_has_dropdown",
      "label": "Has dropdown",
      "default": true
    },
    {
      "type": "text",
      "id": "item_1_sub_1_text",
      "label": "Subcategory 1"
    },
    {
      "type": "url",
      "id": "item_1_sub_1_link",
      "label": "Subcategory 1 link"
    },
    {
      "type": "text",
      "id": "item_1_sub_2_text",
      "label": "Subcategory 2"
    },
    {
      "type": "url",
      "id": "item_1_sub_2_link",
      "label": "Subcategory 2 link"
    },
    {
      "type": "text",
      "id": "item_1_sub_3_text",
      "label": "Subcategory 3"
    },
    {
      "type": "url",
      "id": "item_1_sub_3_link",
      "label": "Subcategory 3 link"
    },
    {
      "type": "text",
      "id": "item_1_sub_4_text",
      "label": "Subcategory 4"
    },
    {
      "type": "url",
      "id": "item_1_sub_4_link",
      "label": "Subcategory 4 link"
    },
    {
      "type": "text",
      "id": "item_1_sub_5_text",
      "label": "Subcategory 5"
    },
    {
      "type": "url",
      "id": "item_1_sub_5_link",
      "label": "Subcategory 5 link"
    },
    {
      "type": "header",
      "content": "Menu item 2"
    },
    {
      "type": "checkbox",
      "id": "item_2_enabled",
      "label": "Enable",
      "default": true
    },
    {
      "type": "text",
      "id": "item_2_text",
      "label": "Text",
      "default": "Collections"
    },
    {
      "type": "url",
      "id": "item_2_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "item_2_has_dropdown",
      "label": "Has dropdown",
      "default": false
    },
    {
      "type": "text",
      "id": "item_2_sub_1_text",
      "label": "Subcategory 1"
    },
    {
      "type": "url",
      "id": "item_2_sub_1_link",
      "label": "Subcategory 1 link"
    },
    {
      "type": "text",
      "id": "item_2_sub_2_text",
      "label": "Subcategory 2"
    },
    {
      "type": "url",
      "id": "item_2_sub_2_link",
      "label": "Subcategory 2 link"
    },
    {
      "type": "text",
      "id": "item_2_sub_3_text",
      "label": "Subcategory 3"
    },
    {
      "type": "url",
      "id": "item_2_sub_3_link",
      "label": "Subcategory 3 link"
    },
    {
      "type": "text",
      "id": "item_2_sub_4_text",
      "label": "Subcategory 4"
    },
    {
      "type": "url",
      "id": "item_2_sub_4_link",
      "label": "Subcategory 4 link"
    },
    {
      "type": "text",
      "id": "item_2_sub_5_text",
      "label": "Subcategory 5"
    },
    {
      "type": "url",
      "id": "item_2_sub_5_link",
      "label": "Subcategory 5 link"
    },
    {
      "type": "header",
      "content": "Menu item 3"
    },
    {
      "type": "checkbox",
      "id": "item_3_enabled",
      "label": "Enable",
      "default": true
    },
    {
      "type": "text",
      "id": "item_3_text",
      "label": "Text",
      "default": "About"
    },
    {
      "type": "url",
      "id": "item_3_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "item_3_has_dropdown",
      "label": "Has dropdown",
      "default": false
    },
    {
      "type": "text",
      "id": "item_3_sub_1_text",
      "label": "Subcategory 1"
    },
    {
      "type": "url",
      "id": "item_3_sub_1_link",
      "label": "Subcategory 1 link"
    },
    {
      "type": "text",
      "id": "item_3_sub_2_text",
      "label": "Subcategory 2"
    },
    {
      "type": "url",
      "id": "item_3_sub_2_link",
      "label": "Subcategory 2 link"
    },
    {
      "type": "text",
      "id": "item_3_sub_3_text",
      "label": "Subcategory 3"
    },
    {
      "type": "url",
      "id": "item_3_sub_3_link",
      "label": "Subcategory 3 link"
    },
    {
      "type": "text",
      "id": "item_3_sub_4_text",
      "label": "Subcategory 4"
    },
    {
      "type": "url",
      "id": "item_3_sub_4_link",
      "label": "Subcategory 4 link"
    },
    {
      "type": "text",
      "id": "item_3_sub_5_text",
      "label": "Subcategory 5"
    },
    {
      "type": "url",
      "id": "item_3_sub_5_link",
      "label": "Subcategory 5 link"
    },
    {
      "type": "header",
      "content": "Menu item 4"
    },
    {
      "type": "checkbox",
      "id": "item_4_enabled",
      "label": "Enable",
      "default": true
    },
    {
      "type": "text",
      "id": "item_4_text",
      "label": "Text",
      "default": "Contact"
    },
    {
      "type": "url",
      "id": "item_4_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "item_4_has_dropdown",
      "label": "Has dropdown",
      "default": false
    },
    {
      "type": "text",
      "id": "item_4_sub_1_text",
      "label": "Subcategory 1"
    },
    {
      "type": "url",
      "id": "item_4_sub_1_link",
      "label": "Subcategory 1 link"
    },
    {
      "type": "text",
      "id": "item_4_sub_2_text",
      "label": "Subcategory 2"
    },
    {
      "type": "url",
      "id": "item_4_sub_2_link",
      "label": "Subcategory 2 link"
    },
    {
      "type": "text",
      "id": "item_4_sub_3_text",
      "label": "Subcategory 3"
    },
    {
      "type": "url",
      "id": "item_4_sub_3_link",
      "label": "Subcategory 3 link"
    },
    {
      "type": "text",
      "id": "item_4_sub_4_text",
      "label": "Subcategory 4"
    },
    {
      "type": "url",
      "id": "item_4_sub_4_link",
      "label": "Subcategory 4 link"
    },
    {
      "type": "text",
      "id": "item_4_sub_5_text",
      "label": "Subcategory 5"
    },
    {
      "type": "url",
      "id": "item_4_sub_5_link",
      "label": "Subcategory 5 link"
    },
    {
      "type": "header",
      "content": "Menu item 5"
    },
    {
      "type": "checkbox",
      "id": "item_5_enabled",
      "label": "Enable",
      "default": false
    },
    {
      "type": "text",
      "id": "item_5_text",
      "label": "Text"
    },
    {
      "type": "url",
      "id": "item_5_link",
      "label": "Link"
    },
    {
      "type": "checkbox",
      "id": "item_5_has_dropdown",
      "label": "Has dropdown",
      "default": false
    },
    {
      "type": "text",
      "id": "item_5_sub_1_text",
      "label": "Subcategory 1"
    },
    {
      "type": "url",
      "id": "item_5_sub_1_link",
      "label": "Subcategory 1 link"
    },
    {
      "type": "text",
      "id": "item_5_sub_2_text",
      "label": "Subcategory 2"
    },
    {
      "type": "url",
      "id": "item_5_sub_2_link",
      "label": "Subcategory 2 link"
    },
    {
      "type": "text",
      "id": "item_5_sub_3_text",
      "label": "Subcategory 3"
    },
    {
      "type": "url",
      "id": "item_5_sub_3_link",
      "label": "Subcategory 3 link"
    },
    {
      "type": "text",
      "id": "item_5_sub_4_text",
      "label": "Subcategory 4"
    },
    {
      "type": "url",
      "id": "item_5_sub_4_link",
      "label": "Subcategory 4 link"
    },
    {
      "type": "text",
      "id": "item_5_sub_5_text",
      "label": "Subcategory 5"
    },
    {
      "type": "url",
      "id": "item_5_sub_5_link",
      "label": "Subcategory 5 link"
    }
  ],
  "presets": [
    {
      "name": "Navigation bar"
    }
  ]
}
{% endschema %}
